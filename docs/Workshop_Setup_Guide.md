# Workshop Setup Guide

This guide provides instructions for setting up the Gandalf Workshop environment. Following these steps will ensure that all necessary tools are available and the workspace is correctly configured for undertaking new Commissions.

## 1. Tool Inventory (requirements.in and requirements.txt)

The Gandalf Workshop relies on a collection of specialized tools (Python libraries) to function. We use `uv` to manage our dependencies for reproducible and audited environments.

*   **`requirements.in`**: This file lists our high-level, direct dependencies. This is the file you would typically edit to add or change a direct dependency.
*   **`requirements.txt`**: This is a lockfile generated by `uv` from `requirements.in`. It contains all direct and indirect dependencies pinned to specific versions, ensuring that every installation is identical. **You should not edit this file directly.**

**To install these tools:**

1.  **Ensure `uv` is installed.** If not, you can install it via pip:
    ```bash
    pip install uv
    ```
2.  **Compile `requirements.in` to `requirements.txt` (The Lockfile):**
    If you've just cloned the repository or updated `requirements.in`, you need to generate/update the lockfile:
    ```bash
    uv pip compile requirements.in -o requirements.txt
    ```
3.  **Install dependencies using the lockfile:**
    This command installs the exact versions specified in `requirements.txt`.
    ```bash
    uv pip sync requirements.txt
    ```

## 2. Preparing the Workspace (Virtual Environment)

To keep the Workshop's tools and dependencies organized and separate from other projects, it's crucial to set up a dedicated virtual environment. This is like preparing a clean, dedicated workbench for each new type of Commission.

**Steps:**

1.  **Navigate to your project directory (the Workshop's root):**
    ```bash
    cd path/to/gandalf_workshop
    ```

2.  **Create a virtual environment:**
    We'll name our environment `.venv`, a common convention.
    ```bash
    python -m venv .venv
    ```

3.  **Activate the virtual environment:**
    *   On macOS and Linux:
        ```bash
        source .venv/bin/activate
        ```
    *   On Windows:
        ```bash
        .\.venv\Scripts\activate
        ```
    Your terminal prompt should now indicate that you are in the `.venv` environment.

4.  **Install the tools (as per Section 1) within this activated environment using `uv pip sync requirements.txt`.**

## 3. Securing the Keys (.env file)

Many tools and services the Workshop uses (like Large Language Model APIs or specialized data sources) require access keys. These are like the keys to secure cabinets or special machinery in the Workshop. They must be kept confidential.

We will use a `.env` file to store these keys securely. This file will be ignored by version control systems (like Git) to prevent accidental exposure.

**Steps:**

1.  **Create a file named `.env` in the root directory of the Workshop:**
    ```bash
    touch .env
    ```
    Or create it using your text editor.

2.  **Add your API keys and other sensitive configuration to this file in the following format:**
    ```env
    OPENAI_API_KEY="your_openai_api_key_here"
    # Example for a hypothetical academic API
    ACADEMIC_DB_API_KEY="your_academic_db_key_here"
    # Add other keys as needed
    # e.g., GITHUB_TOKEN for accessing private repositories if required
    ```

3.  **Ensure this file is never committed to version control.** If you are using Git, add `.env` to your `.gitignore` file:
    ```text
    # .gitignore
    .venv/
    .env
    __pycache__/
    *.pyc
    ```

With these steps completed, your Gandalf Workshop environment is set up and ready for its first Commission!
